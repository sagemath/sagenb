<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Sage</title>
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<meta name="author" content="Samuel Ainsworth">

		<!-- Le styles -->
		<link href="/data/bootstrap-2.0.4/css/bootstrap.min.css" rel="stylesheet">
		<link href="/data/bootstrap-2.0.4/css/bootstrap-responsive.min.css" rel="stylesheet">

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<!-- Le fav and touch icons -->
		<!-- these should be customized for sage -->
		<!-- <link rel="shortcut icon" href="bootstrap/ico/favicon.ico">
		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="bootstrap/ico/apple-touch-icon-144-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="bootstrap/ico/apple-touch-icon-114-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="bootstrap/ico/apple-touch-icon-72-precomposed.png">
		<link rel="apple-touch-icon-precomposed" href="bootstrap/ico/apple-touch-icon-57-precomposed.png"> -->
		
		<!-- CodeMirror -->
		<script src="/data/CodeMirror-2.25/lib/codemirror.js"></script>
		<link rel="stylesheet" href="/data/CodeMirror-2.25/lib/codemirror.css">
		
		<!-- simple hinting -->
		<script type="text/javascript" src="/data/CodeMirror-2.25/lib/util/simple-hint.js"></script>
		<link rel="stylesheet" href="/data/CodeMirror-2.25/lib/util/simple-hint.css">
		
		<!-- javascript hinting. we'll have to create our own hinting presets but for testing we use js -->
		<script type="text/javascript" src="/data/CodeMirror-2.25/lib/util/javascript-hint.js"></script>
		<!-- END CodeMirror -->
		
		<!-- Less -->
		<link rel="stylesheet/less" type="text/css" href="/data/sage/less/main.less">
		<script src="/data/less-1.3.0.min.js" type="text/javascript"></script>
		
		<!-- JMol stuff -->
		<script type="text/javascript" src="/data/sage/js/jmol_lib.js"></script>

		<!-- Sage3d - accelerated 3D graphics -->
		<script type="text/javascript" src="/data/sage3d/sage3d.js"></script>

		<!-- Jmol - embedded 3D graphics -->
		<script type="text/javascript" src="/java/jmol/appletweb/Jmol.js"></script>
		<!-- This must stay in head -->
		<script>jmolInitialize("/java/jmol");jmolSetCallback("menuFile","/java/jmol/appletweb/SageMenu.mnu");</script>
	</head>

	<body>

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="#" style="padding-bottom: 0; padding-top: 5px; padding-right: 0;"><img src="/data/sage/images/headerlogo.png" alt="" width="113" height="30"></a>
					<div class="nav-collapse">
						<ul class="nav">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">File <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="#" id="new_worksheet"><i class="icon-file"></i> New Worksheet</a></li>
									<li><a href="#" id="save_worksheet"><i class="icon-ok"></i> Save Worksheet</a></li>
									<li><a href="#" id="close_worksheet"><i class="icon-remove"></i> Close Worksheet</a></li>

									<li class="divider"></li>
									<li><a href="#" id="export_to_file"><i class="icon-download"></i> Export to File</a></li>
									<li><a href="#" id="import_from_file"><i class="icon-upload"></i> Import from File</a></li>

									<li class="divider"></li>
									<li><a href="#" id="print"><i class="icon-print"></i> Print</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="#"><label for="typesetting_checkbox" class="checkbox"><input name="typesetting_checkbox" type="checkbox" id="typesetting_checkbox"> Typesetting</label></a></li>
									<li class="divider"></li>
									<li><a href="#"><label class="radio"><input name="cell_mode_radio" type="radio" id="single_cell_mode_radio" value="single"> Single-cell Mode</label></a></li>
									
									<!-- here we make the default state checked for the demo
									when integrating with sage nb this might need to be changed, not sure -->
									<li><a href="#"><label class="radio"><input name="cell_mode_radio" type="radio" id="multi_cell_mode_radio" value="multi" checked> Multi-cell Mode</label></a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Evaluation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="#" id="evaluate_all_cells"><i class="icon-play"></i> Evaluate all Cells</a></li>
									<li><a href="#" id="interrupt"><i class="icon-stop"></i> Interrupt</a></li>
									<li><a href="#" id="restart_worksheet"><i class="icon-refresh"></i> Restart Worksheet</a></li>
									<!-- not exactly sure what the point of a save and quit button is???? -->
									<!-- <li><a href="#" id="save_and_quit_worksheet"><i class="icon-remove"></i> Save and quit Worksheet</a></li>-->
									<li class="divider"></li>
									<!-- <li class="nav-header">Nav header</li> -->
									<li><a href="#" id="hide_all_output"><i class="icon-eye-close"></i> Hide all output</a></li>
									<li><a href="#" id="show_all_output"><i class="icon-eye-open"></i> Show all output</a></li>
									<li><a href="#" id="delete_all_output"><i class="icon-remove"></i> Delete all output</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Data <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="#" id="new_file"><i class="icon-file"></i> New file</a></li>
									<li><a href="#" id="upload_file"><i class="icon-upload"></i> Upload file</a></li>
									<li><a href="#" id="file_from_url"><i class="icon-globe"></i> File from URL</a></li>
								</ul>
							</li>
							<li><a href="#sharing_modal" id="sharing" data-toggle="modal">Sharing</a></li>
						</ul>
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Username <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="#" id="home"><i class="icon-home"></i> Home</a></li>
									<li><a href="#" id="published"><i class="icon-share"></i> Published</a></li>
									<li><a href="#" id="log"><i class="icon-list"></i> Log</a></li>
									<li><a href="#" id="settings"><i class="icon-wrench"></i> Settings</a></li>
									<li><a href="#" id="sign_out"><i class="icon-off"></i> Sign out</a></li>
									<li class="divider"></li>
									<li class="nav-header">Support</li>
									<li><a href="#" id="help"><i class="icon-book"></i> Help</a></li>
									<li><a href="#" id="report_a_problem"><i class="icon-exclamation-sign"></i> Report a Problem</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div><!--/.container -->
			</div><!--/.navbar-inner -->
		</div><!--/.navbar -->

		<div class="alert_container">
			<div class="alert_container_inner">
				<div class="alert alert-error alert_connection hide">
					<strong>Uh oh!</strong> The highly trained monkeys that run Sage Notebook aren't communicating well with Sage headquarters.
				</div>
				<div class="alert alert_rename hide">
					<p><strong>C'mon lazy!</strong> "Untitled" isn't very descriptive. Are you sure you wouldn't like to rename this worksheet?</p>
					<p>
						<button class="btn btn-primary rename">Rename</button>
						<button class="btn cancel">I don't care</button>
					</p>
				</div>
			</div>
		</div>

		<div class="the_container">
			<div class="single_cell_controls">
				<div class="left_controls">
					<button type="button" class="btn" id="first_cell"><i class="icon-fast-backward"></i></button>
					<button type="button" class="btn" id="previous_cell"><i class="icon-step-backward"></i></button>
				</div>
				
				<div class="progress_text">1/4</div>
				
				<div class="progress">
					<div class="bar" style="width: 25%;"></div>
				</div>
				
				<div class="right_controls">
					<button type="button" class="btn" id="next_cell"><i class="icon-step-forward"></i></button>
					<button type="button" class="btn" id="last_cell"><i class="icon-fast-forward"></i></button>
				</div>
			</div>
		
			<div class="the_page">
				<div class="worksheet_name">
					<h1><!--Worksheet Name--></h1>
					<input type="text" />
				</div>
				
				
			</div> <!-- /the_page -->
		</div> <!-- /the_container -->


		<!-- Modal Magic -->
		<div class="modal hide" id="sharing_modal">
			<div class="modal-header">
				<!--<button class="close" data-dismiss="modal">Ã—</button>-->
				<h3>Sharing</h3>
			</div>
			<div class="modal-body">
				<form action="#" class="form-horizontal">
					<fieldset>
						<div class="control-group">
							<label for="" class="control-label">Sharing</label>
							<div class="controls">
								<textarea name="collaborators_textarea" id="collaborators_textarea" class="input-xlarge"></textarea>
								<p class="help-block">Add/remove collaborators by entering their user names separated by commas.</p>
							</div>
						</div>
						<div class="control-group">
							<label for="" class="control-label">Publishing</label>
							<div class="controls">
								<label for="publish_checkbox" class="checkbox"><input type="checkbox" id="publish_checkbox"> Publish this worksheet</label>
								<label for="auto_republish_checkbox" class="checkbox"><input type="checkbox" id="auto_republish_checkbox"> Re-publish this worksheet when it changes</label>
								<p class="help-block">Worksheet viewable at <a href="#">http://insert/url/here</a></p>
							</div>
						</div>
					</fieldset>
				</form>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">Cancel</a>
				<a href="#" class="btn btn-primary">Save changes</a>
			</div>
		</div>
		

		<!-- Le javascript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		
		<!-- jQuery -->
		<script type="text/javascript" src="/data/jquery-1.7.2.min.js"></script>

		<!-- Bootstrap stuff -->
		<script src="/data/bootstrap-2.0.4/js/bootstrap.min.js"></script>
		
		<!-- MathJax -->
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

		<!-- TinyMCE -->
		<script type="text/javascript" src="/data/tinymce-3.5.2/jscripts/tiny_mce/tiny_mce.js" ></script>

		<!-- Hotkeys -->
		<script type="text/javascript" src="/data/jeresig-jquery.hotkeys-0451de1/jquery.hotkeys.js"></script>
		
		<!-- CodeMirror modes -->
		<script src="/data/CodeMirror-2.25/mode/python/python.js"></script>
		<script src="/data/CodeMirror-2.25/mode/stex/stex.js"></script>
		<script src="/data/CodeMirror-2.25/mode/r/r.js"></script>
		<script src="/data/CodeMirror-2.25/mode/shell/shell.js"></script>

		<!-- htmlmixed depends on xml. javascript, and css -->
		<script src="/data/CodeMirror-2.25/mode/xml/xml.js"></script>
		<script src="/data/CodeMirror-2.25/mode/javascript/javascript.js"></script>
		<script src="/data/CodeMirror-2.25/mode/css/css.js"></script>
		<script src="/data/CodeMirror-2.25/mode/htmlmixed/htmlmixed.js"></script>


		<!-- Translations -->
		<script type="text/javascript" src="/data/sage/js/localization.js"></script>

		<!-- Misc Functions -->
		<script type="text/javascript" src="/data/sage/js/misc.js"></script>

		<!-- Async Requests -->
		<script type="text/javascript" src="/data/sage/js/async_lib.js"></script>


		<!-- Worksheet -->
		<!-- randomize the worksheet.js url for debugging -->
		<script type="text/javascript">
			document.write('<script type="text/javascript" charset="utf-8" src="/data/sage/js/worksheet.js?' + new Date().getTime() + '"><\/script>');
		</script>
		
		<script type="text/javascript">
			// create the worksheet
			var the_worksheet = new worksheetapp.worksheet();

			// grab the filename from the URL
			var fn = window.location.pathname;

			// take off /home/
			fn = fn.substring(6);

			// take off last /
			if(fn.substring(fn.length - 1, fn.length) === "/") {
				// some versions of IE don't support fn.substring(-1)
				fn = fn.substring(0, fn.length - 1);
			}

			// set filename
			the_worksheet.filename = fn;

			// initialize
			the_worksheet.init();
		</script>
	</body>
</html>
